# 概述
## 1.1计算机网络的定义及其特点

### 1.1.1 计算机网络的定义

* 计算机网络的精神定义并未统一

* 较好的定义：

  计算机网络主要是由一些通用的、可编程的硬件互联而成的，而这些硬件并非专门用来实现某一特定目的（例如，传输数据或视频信号）这些可编程的硬件能够用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用。 

### 1.1.2 计算机网络的特点 
1. 联通性（Connectivity）
	* 使上网用户之间都可以交换信息，好像这些用户的计算机都可以彼此直接连接一样。
	* 注意，互联网具有虚拟的特点，无法准确知道对方是谁，也无法知道对方的位置。
2. 共享（Sharing）
	*	指的是资源共享
	*	资源共享的·含义是多方面的，可以使信息共享，软件共享，也可以是硬件共享。
	*	由于网络的存在，这些资源好像就是在用户身边一样，方便使用。
## 1.2 互联网概述
### 1.2.1  互联网概念
  1. 互联网已经成为现代社会最为重要的基础设施 
  2. 互联网定义：互联网，特指Internet，它起源于美国，是由数量极其大的各种计算机网络互连起来而形成的一个互联网络。它采用TCP/IP协议族（栈）作为通信规则，是一个覆盖全球的，实现全球范围内连通性和资源共享的计算机网络。
  3.  **internet和Internet的区别**
	  * internet（互连网）是一个通用名词，它泛指由多个计算机网络互连而成的网络。（除TCP/IP外，还可以使用其他协议）。
	  * Internet（互联网或因特网）则是一个专用名词，它指当前全球最大的、开放的、由众多网络相互连接而成的特定计算机网络，它采用TCP/IP协议族作为同心度规则，且其前身是美国的ARPANET。 
### 1.2.2 互联网基础结构发展的三个阶段

1. 第一阶段：从单个的网络ARPANET向互联网发展的过程。
2. 第二阶段：建成了三级结构的互联网。
   * 他是一个三级计算机网络，分为主干网，地区网，和校园网（或企业网）
 3. 第三阶段：逐渐形成了多层次的ISP结构的互联网。

### 1.2.3 互联网的标准化工作

所有互联网标准都以RFC的形式在互联网上发表。

## 1.3 互联网的组成

从互联网的工作方式上看，可以划分为两大块：

* **边缘部分** ：由所有连接在互联网上的主机组成。这部分是用户直接使用的，用来进行通信（传输数据、音频或视频）和资源共享。
* **核心部分** ：由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）

### 1.3.1 互联网的边缘部分

* 处在互联网边缘的部分就是连接在互联网上的所有主机。这些主机又称为端系统（end system）
* 端系统在功能上可能有很大差别：
  1. 晓得端系统可以使一台普通人的电脑，具有上网功能的智能手机，甚至是一个很小的网络摄像头。
  2. 大的端系统可以使一台非常昂贵的大型计算机。
  3. 端系统的拥有者可以是个人，也可以是单位（如学校，企业，政府机关等，当然也可以是某个ISP）

* **端系统之间通信的含义**：主机A和主机B进行通信实际上是指：运行在主机A上的某个程序和运行在主机B上的另一个程序进行通信。

* 端系统之间的两种通信方式

  1. **客户服务器方式（C/S方式）即Client/Server方式，简称为C/S方式。**

     * 客户和服务器都是指通信中所设计到的两个应用进程。

     * 客户-服务器方式所描述的是进程之间的服务和被服务关系。

     * 客户是服务的请求方，服务器是服务的提供方。

     * 客户端软件的特点：被用户调用后运行，在打算通信时主动向远地服务器发起通信（请求服务）。因此客户端必须知道服务器地址。同时客户软件不需要特殊的硬件和很复杂的操作系统。

     * 服务器软件的特点：一种专门用来提供某种服务的程序，可同时处理多个远地或本地客户的请求。系统启动后即自动调用并一直不断运行着，被动等待并接受来自全国各地的客户的通信请求。因此，服务器程序不需要知道客户程序的地址。 一般需要强大的硬件和高级的操作系统支持。

     **服务请求方和服务器提供方都要使用网络核心部分所提供的服务。**

     **客户与服务器的通信关系建立后通信可以使双向的，客户和服务器都可以发送和接受数据**

  2. **对等方式（P2P）即Peer-to-Peer 方式，简称为P2P方式。**

     * 对等连接是指两个主机在通信时并不区分那一个是服务请求方还是服务提供方。

     * 只要两个主机都运行了对等连接软件（P2P软件）

     * 对等连接方式的特点

       （1）对等连接方式从本质上看仍然是使用客户服务器的方式，只是对等连接中的每一台主机既是客户又是服务器。

       （2）例如主机C请求D服务时，C是客户，D是服务器。但如果C又同时向F提供服务，那么C又同时起着服务器的作用。

     **对等连接工作方式可支持大量对等用户同时工作。**

### 1.3.2 互联网的核心部分

* 网络的核心部分是互联网中最为复杂的部分。

* 网络中的核心部分要向网络边缘中大量主机提供连通性，使边缘部分中的任何一个主机都能够向其他主机通信（即传送或接收各种形式的数据）。

* 在网络核心部分起特殊作用的是路由器（router）

* 路由器是实现分组交换（packet switching）的关键构件，其任务是转发收到的分组，这是网络核心部分最为重要的功能。

* 典型的交换技术包括：

  * 电路交换：

    * 在通讯之前先建立连接，通信后释放连接。

    * 计算机数据具有突发性，这导致在传输数据时，通信线路的利用率很低

  * 分组交换

    * 分组交换则采用储存转发技术。
    * 在发送端，先把较长的报文划分为较短的，固定长度的数据段。  

  * 报文交换等

* **互联网的核心部分采用了分组交换技术。**

* 路由器

  * 在路由器中的输入和输出端口之间没有直接连线。
  * 路由器处理的分组过程是：
    1. 把收到的分组先放入缓存（暂时储存）
    2. 查找转发表，找到某个目的地址应从哪个端口转发
    3. 把分组送到适当的端口转发出去。

* 主机和路由器的作用不同

  * 主机是为用户进行信息处理的，并向网络发送分组，从网络接收分组。
  * 路由器对分组进行存储转发，最后把分组交付给目的主机。

* 分组交换的优点

  | 优点 |                         所采用的手段                         |
  | :--: | :----------------------------------------------------------: |
  | 高效 | 在分组传输的过程中动态分配传输宽带，对通信链路是逐段占用的。 |
  | 灵活 |           为每一个分组独立地选择最合适的转发路由。           |
  | 迅速 | 以分组作为传送单位，可以不先建立连接就能向其他主机发送分组。 |
  | 可靠 | 保证可靠性的网络协议；分布式多路由的分组交换网，使网络有很好的生存性 |

* 分组交换带来的问题

  * 分组在各节点存储转发时需要排队，这就会造成一定的时延。
  * 分组必须携带的首部（里面有必不可少的控制信息）也造成了一定的开销。

* 三种交换的比较

  * 若要连续传送大量的数据，且其传送时间远大于建立连接的时间，则电路交换的传输效率较快。
  * 报文交换和分组交换不需要预先分配传输宽带，在传送突发数据时可以提高整个网路的信道利用率。
  * 由于一个分组的长度往往远小于整个报文的长度，因此分组交换比报文交换时延小，同时也具有更好的灵活性。

## 1.4 计算机在我国的发展

* 到目前为止，我国陆续建造了基于互联网技术的并能够和互联网互联的多个全国范围的公用计算机网络，其中规模最大的就是下面五个：
  * 中国电信互联网 CHINANET（也就是原来的中国公用计算机互联网）
  * 中国联通互联网 NMINET
  * 中国移动互联网 CMNET
  * 中国教育互联网 CERNET
  * 中国科学技术网 CSTNET

## 1.5 计算机网络的类别

### 1.5.1 计算机网络的定义

* 计算机网络的精确定义并未完全统一

* 较好的定义：

  计算机网络主要是由一些通用的、可编程的硬件互联而成的，而这些硬件并非专门用来实现某一特定目的（例如，传输数据或视频信号）这些可编程的硬件能够用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用。 

  根据这个定义：

  * 计算机网络所连接的硬件，并不限于一般的计算机，而是包括了智能手机等。
  * 计算机网络并非专门用来传送数据，而是能够支持很多种应用（包括今后可能出现的各种应用）。
  * ** 请注意，上述的“可编程的硬件”表明这种硬件一定包含有中央处理器（CPU）。

### 1.5.2几种不同类别的网络

1. 按照网络的作用范围进行分类

   * 广域网WAN（Wide Area Network）：作用范围通通常为几十到几千千米。
   * 城域网MAN（Metropolitan Area Network）：作用距离为5~50公里。
   * 局域网LAN（Local Area Network）：局限在较小的范围（如一公里左右）。
   * 个人区域网PAN（Personal Area Network）：范围很小，大约在10米左右。

   **若中央处理机之间的距离非常近（如仅1m的数量级甚至更小），则一般就称之为多处理机系统，而不称他为计算机网络。**

2. 按照使用网络的使用者进行分类

   * 公用网（public network）

     按规定交纳费用的人都可以使用的网络。因此也可称为公众网。

   * 专用网（private network）

     为特殊业务工作的需要而建造的网络。

3. 用来把用户接入到互联网的网络
   * 接入网AN（Access Network），它又称为本地接入网或居民接入网。
   * 接入网是一类比较特殊的计算机网路，用于将用户接入互联网。
   * 接入网本身既不属于互联网的核心部分，也不属于互联网的边缘部分。
   * 接入网是从某个用户端系统到互联网中的第一个路由器（也称为边缘路由器）之间的一种网络。
   * 从覆盖的范围看，很多接入网还是属于局域网。
   * 从作用上看，接入网只是起到让用户能够与互联网连接的：“桥梁”作用。

 ## 1.6 计算机网络的性能

### 1.6.1 计算机网络的性能指标

1. 速率

   * 比特（bit）是计算机中数据量的单位，也是信息论中使用的信息量的单位。
   * 比特来源于binary digit ，意思是一个二进制数字，因此一个比特就是二进制数字中的一个1或0 。
   * 速率是计算机网络中最为重要的一个性能指标，指的是数据的传送速率，它也称为数据库（data rate）或比特率（bit rate）。
   * 速率的单位是bit/s，或Kbit/s，或Mbit/s，Gbit/s等。
   * 速率往往是指定额定速率或标称速率，非实际运行速率。

2. 带宽

   两种不同的意义：

   * 带宽（bandwidth）本来是指信号具有的频带宽度，其单位是赫（或千赫，兆赫，吉赫等）

   * 在计算机网络中，带宽用来表示网络中某通道传送数据的能力。表示在单位时间内网络中的某信道所能通过的“最高数据率”。单位是bit/s，即“比特每秒”。

     在“带宽”的上述两种表述中，前者为**频域**称谓，而后者为**时域**称谓，其本质上相同。

3. 吞吐量
   * 吞吐量（throughput）表示在单位时间内通过某个网络（或信道，接口）的数据量。
   * 吞吐量更经常地用于对现实世界中的网络的一种测量，以便于知道实际上到底有多少数据量能够通过网络。
   * 吞吐量受网络的带宽或网络的额定速率的限制。

4. 时延
   * 时延（delay或latency）是指数据（一个报文或分组，甚至比特）从网络（或链路）的一端传送到另一端所需要的时间。
   * 有时也称为延迟或迟延。
   * 网络中的时延由以下几个不同的部分组成：
     * 发送时延
       * 也称为传输时延
       * 发送数据时，数据帧从结点进入到传输媒体所需要的时间。
       * 也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕的时间。
       * 发送时延=数据帧长度（bit）/带宽 发送速率（bit/s）
     * 传播时延
       * 电磁波在信道中需要传播一定的距离而花费的时间。
       * 发送时延与传播时延有本质上的不同。
       * 信号发送速率和信号在信道上的传播速率是完全不同的概念。
       * 传播时延=信道长度（米）/信号在信道上的传播速率（米/秒）
     * 处理时延
       * 主机或路由器在收到分组时，为处理分组（例如分析首部，提取数据，差错检验或查找路由）所花费的时间。
     * 排队时延
       * 分组在路由器输入或输出队列中排队等待处理所经历的时延。
       * 排队时延的长短往往取决于网络中当时的通信量。

   **数据在网络中经历的总时延就是发送时延，传播时延，处理时延和排队时延之和。（必须指出在总时延中，究竟是哪一种是时延占主导地位，必须具体分析。）**

 **容易产生的错误观念**

* 对于高速网络链路，我们提高的仅仅是数据的发送速率而不是比特在链路上的传播速率。
* 提高链路带宽减少了数据的发送时延。

5. 时延带宽积
   * 链路了的时延带宽积又称为以比特为单位的链路长度。
6. 往返时间
   * 互联网上的信息不仅仅是单方向传输，而是双向交互的。因此，有时很需要知道双向交互一次所需要的时间。
   * 往返时间RTT(round-trip time)表示从发送方发送数据开始，到发送方收到来自接受方的确认，总共经历的时间。
   * 在互联网中，往返时间还包括各中间结点的处理时延，排队时延以及转发数据时的发送时延。
   * 当使用卫星通信时，往返时间RTT相对较长，是很重要的一个性能指标。
7. 利用率
   * 分为信道利用率和网络利用率。
   * 信道利用率指出某信道有百分之几是被利用的（有数据通过）。
   * 完全空闲的信道的利用率是零。
   * 网络利用率则是全网络的信道利用率的加权平均值。
   * 信道利用率并非越高越好。当某信道的利用率增大时，该信道引起的时延也就迅速增加。

时延与网络利用率的关系

* 根据排队论的理论，当某信道的利用率增大时，该信道引起的时延也就迅速增加。
* 若令D0表示网络空闲时间的时延，D表示网络当前的时延，则在适当的假定条件下，可以用下面的简单公式表示D和D0之间的关系：
  * D = D0/1-U         其中：U是网络的利用率，数值在0-1之间。 

### 1.6.2 计算机网络的非性能特征

一些非性能特征也很重要，它们前面介绍的性能指标有很大的关系。

主要包括：

* 费用
* 可靠性
* 质量
* 可扩展性和可升级性
* 标准化
* 易于管理和维护

 ## 1.7 计算机网络的体系结构

### 1.7.1 计算机网络体系结构的形成。

* 计算机网络是个非常复杂的系统。

* 相互通信的两个计算机系统必须高度协调工作才行，而这种“协调”是相当复杂的。

* “分层”可将庞大而复杂的问题，转化为若干较小的局部问题，而这些较小的局部问题就比较易于研究和处理。

* 由于网络体系结构的不同，不同公司的设备很难互相连通。

* 为了使不同的体系结构的计算机都能互连，国际标准化组织ISO于1977年成立了专门机构研究该问题。

* 他们提出了一个试图使各种计算机在世界范围内互连成网的标准框架，即著名的**开放系统互连基本参考模型OSI/RM(Open Systems Interconnection Reference Model),简称OSI。

  > 只要遵循OSI标准，一个系统就可以和位于世界上任何地方的，也遵循这同一标准的·其他任何系统进行通信。

* 遗憾的是，OSI只获得了一些理论研究的成果，在市场化方面却失败了。宣告GG。

两种国际标准

* 法律上的国际标准OSI并没有得到市场的认可。
* 非国际标准TCP/IP却获得了最广泛的应用。TCP/IP常被称为事实上的标准。

### 1.7.2 协议与划分层次

* 计算机网络中的数据交换必须遵守事先约定好的规则。
* 这些规则明确规定了所交换的数据格式以及有关的同步问题（同步含有时序的意思）。
* 网络协议（network protocol），简称为协议，是为进行网络中的数据交换而建立的规则，标准或约定。

网络协组成的三个要素

* 语法：数据与控制信息的结构或者格式。
* 语义：需要发出何种控制信息，完成何种动作以及做出何种响应。
* 同步：事件实现顺序的详细说明。

协议的两种形式

* 一种是使用便于人来阅读和理解的文字描述。
* 另一种是使用让计算机能够理解的程序代码。
* 这两种不同的形式的协议都必须能够对网络上信息交换过程做出精确到解释。

### 1.7.3 具有五层协议的体系结构

* OSI的七层协议体系结构的概念清楚，理论也比较完整，但它既复杂又不实用。
* TCP/IP是四层体系结构：应用层，运输层，网际层和网络接口层。
* 但最下面的网络接口层并没有具体内容。
* 因此往往采取折中的办法，即综合OSI和TCP/IP的优点，采用一种只有五层协议的体系结构。

OSI参考模型

| 应用层     | 应用层协议定义了互联网上常见的应用（服务器和客户端通信）通信规范。每个应用层协议定义了客户端能够向服务器发送哪些请求，服务器端能够向客户端返回哪些响应，这些请求报文和响应报文都有哪些字段，每个字段实现些什么功能，每个字段的各种取值所代表的意思。 |
| ---------- | ------------------------------------------------------------ |
| 表示层     | 代码转换，字符转换，数据格式的修改，以及对数据结构操作的适应，数据压缩，加密等。字符文件，二进制文件（图片，程序等），加密压缩等。 |
| 会话层     | 允许不同机器上的用户之间建立会话关系。                       |
| 传输层     | 负责在通信的两个计算机之间建立连接，实现可靠的或不可靠的数据通信，能够实现发送端和接收端的丢包重传，流量控制。 |
| 网络层     | 路由器查看数据包目标ip地址，根据路由表为数据包选择路径。路由表中的条目可以人工添加（静态路由）也可以动态生成（动态路由）。 |
| 数据链路层 | 不同得网络类型，发送数据的机制不同，数据链路层就是将数据包封装成能够在不同网络传输的帧。能够进行差错检验，但不纠错，检测出错误丢掉该帧。 |
| 物理层     | 该层规定了网络设备接口标准，电压标准。尽可能的通过频分复用，时分复用技术在通信链路上更快的传输数据。 |

网络排错过程（从底层到高层）

1. 检查网络连接
2. 查看IP地址 ipconfig/all
3. 测试到网关是否通
4. 测试到Internet是否通
5. 测试域名解析
6. 测试端口是否能够访问
7. 检查软件的配置

### 1.7.4 实体，协议，服务和服务访问点

* **实体**（entity）表示任何可发送的或接收信息的软件或软件进程。
* **协议**是控制两个**对等实体**进行通信的规则的集合。
* 在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。
* 要使用本层协议，还需要使用下层所提供的服务。

 **协议和服务在概念上是不一样的**

* 协议的实现保证了能够向上一层提供服务。
* 本层的服务用户只能看见服务而无法看见下面的协议。即下面的协议对上面的服务用户是透明的。
* 协议是“水平的”，即协议是控制对等实体之间通信的规则。
* 服务是“垂直的”，即服务是由下层向上层通过层间接口提供的。
* 上层使用的服务原语获得下层所提供的服务。

### 1.7.5 TCP/IP的体系结构

# 物理层

## 2.1 物理层的基本概念

* 物理层考虑的是怎样才能在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。
* 物理层的作用是要尽可能地屏蔽掉不同传输媒体和通信手段的差异。
* 用于物理层的协议也常称为物理层的规程（procedure）。
* **物理层的主要任务**：确定与传输媒体的接口的一些特性。
* 物理层定义了与传输媒体的接口有关的一些特性。
  * 机械特性
  * 电气特性
  * 功能特性
  * 过程特性

## 2.2 数据通信的基础知识

### 2.2.1 数据通信系统的模型

一个数据通信系统包括三大部分：源系统（或发送端，发送方），传输系统（或传输网络）和目的系统（或接收端，接收方）。 

**常用术语**

* 信息（消息）
* 数据（data）——运送消息的实体。
* 信号（signal）——数据的电气的或电磁的表现。
  * 模拟信号（analogous signal ）——代表消息的参数时连续的。
  * 数字信号（digital signal）——代表消息的参数的取值是离散的。
  * 码元（code）——在使用时间域（或简称时域）的波形表示数字信号时，代表不同离散熟知的基本波形。

### 2.2.2 有关信道的几个概念

* 信道——一般用来表示向某一个方向传送信息的媒体。
* 单向通信（单工通信）—— 只能有一个方向的通信而没有反方向的交互。
* 双向交替通信（半双工通信）—— 通信的双方都可以发送信息，但不能双方同时发送（当然也就不能同时接收）。
* 双向同时通信（全双工通信）—— 通信的双方可以同时发送和接收信息。 



* 基带信号（即基本频带信号）—— 来自信源的信号。像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。
* 基带信号往往包含有较多的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量。因此必须对基带信号进行调制（modulation）。
* 带通信号—— 把基带信号经过载波调制后，把信号的频率范围搬移到较高的频段以便在信道中传输（即仅在一段频率范围内能够通过信道）。

### 2.2.3 信道的极限容量

* 任何实际的信道都不是理想的，在传输信号时会产生各种失真以及带来多种干扰。
* 码元传输的速率越高，或信号传输的距离越远，或传输媒体的质量越差，在信道的输出端的波形的失真就越严重。

从概念上讲，限制码元在信道上的传输速率的因素有以下两个：

* 信道能够通过的频率范围
  * 具体的信道所能通过的频率范围总是有限的。信号中的许多高频分量往往不能通过信道。
  * 1924年，奈奎斯特就推导出了著名的奈氏准则。他给出了在假定的理想条件下，为了避免码间串扰，码元的传输速率的上限值。
  * 在任何信道中，码元传输的速率是有上限的，否则就会出现码间串扰的问题，使接收端对码元的识别成为不可能。
  * 如果信道的频带越宽，也就是能够通过的信号高频分量越多，那么就可以用更高的速率下传送码元而不出现码间串扰。
* 信噪比
  * 噪声存在于所有的电子设备和通信信道中。
  * 噪声是随机产生的，它的瞬时值有时会很大。因此噪声的影响就相对较小。
  * 信噪比就是信号的平均功率和噪声的平均功率之比。记为S/N，并用分贝作为单位。
    * 信噪比 = 10log10（S/N）
  * 例如，当S/N=10时，信噪比为10DB，而当S/N=1000时，信噪比为30DB。
    * 信道的极限信息传输速率C可表达为
      * C = Wlog2（1+S/N）（bit/S）   **香农公式**
      * 其中W为信道的带宽（以赫兹为单位）
      * S为信道内所传信号的平均功率；
      * N为信道内部的高斯噪声功率。
  * 香农公式表明
    * 信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高。
    * 只要信息传输速率低于信道的极限信息传输速率，就一定可以找到某种办法来实现无差错的传输。
    * 若信道带宽W或信噪比S/N没有上限，则C也没有上限。
    * 实际上信道能够达到的信息传输速率要比香农的极限传输速率低不少。
  * **PS**：对于频带宽度已经确定的信道，如果信噪比不能再提高了，并且码元传输速率也达到了上限值，就只能通过编码的方式让每一个码元携带更多的比特信息量。

## 2.3 物理层下面的传输媒体

* 传输媒体也称为传输介质或传输媒介，就是数据传输系统中的物理通路。
* 传输媒体可分为两大类
  * 导引型传输媒体，电磁波被导引着沿着固体媒体传播。
  * 非导引型传输媒体就是指自由空间。其中电磁波的传输常称为无线传输。

###  2.3.1 导引型传输媒体

* 双绞线
  * 最常用的传输媒体
  * 模拟传输和数字传输都可以用双绞线，其通信距离一般为几到十几公里。
* 同轴电缆
  * 同轴电缆具有很好的抗干扰特性，被广泛的用于传输较高速率的数据。
* 光缆
  * 光纤是光纤通信的传输媒体。
  * 由于可见光的频率非常高，约为10的八次方MHz的量级，因此一个光纤通信系统的传输带宽远远大于目前其他各种传输媒体的带宽。
* 多模光纤
  * 可以存在多条不同角度入射的光线在一条光纤中传输。这种光纤就称为多模光纤。
* 单模光纤
  * 若光纤的直径减小到只有一个光的波长，则光纤就像一根波导那样，它可使光线一直向前传播，而不会产生多次反射，这样的光纤称为单模光纤。

### 2.3.2 非导引型传输媒体

* 将自由空间称为“非导引型传输媒体”。
* 无线传输所使用的频段很广。
* 短波通信（即高频通信）主要是靠电离层的反射，但短波信道的通信质量较差，传输速率低。
* 微波在空间主要是直线传播。
* 传统微波通信有两种方式：
  * 地面微波接力通信
  * 卫星通信

## 2.4 信道复用技术

###  2.4.1 频分复用，时分复用和统计时分复用

复用（multiplexing）是通信技术中的基本概念。它允许用户使用一个共享信道进行通信，降低成本，提高利用率。

1. 频分复用（针对模拟信号）

   * 将整个带宽分为多份，用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。

   * 频分复用的所有用户在同样的时间占用不同的带宽资源（请注意，这里的带宽是频率带宽而不是数据的发送速率）。

2. 时分复用（针对数字信号）

   * 时分复用则是将时间划分为一段段等长的时分复用帧（TDM帧）。
   * 每一个时分复用的用户在每一个TDM帧中占用固定序号的时隙。
   * 每一个用户所占用的时隙是周期性的出现（其周期就是TDM帧的长度）。
   * TDM信号也称为等时信号
   * 时分复用的所有用户在不同的时间占用同样的频带宽度。

###  2.4.2 波分复用

波分复用就是光的频分复用。使用一根光纤来同时传输多个光载波信号。

### 2.4.3 码分复用

* 常用的名词是码分多址CMDA
* 各用户使用经过特殊挑选的不同码型，因此彼此不会造成干扰。、
* 这种系统发送的信号有很强的抗干扰能力

## 2.5 数字传输系统

* 在早期电话网中，从市话局到用户电话机的用户线是采用最廉价的 双绞线电缆，而长途干线采用的是频分复用 FDM 的模拟传输方式。
*  与模拟通信相比，数字通信无论是在传输质量上还是经济上都有明 显的优势。
*  目前，长途干线大都采用时分复用 PCM 的数字传输方式。 
* 脉码调制 PCM 体制最初是为了在电话局之间的中继线上传送多路 的电话。

## 2.6 宽带接入技术

* 用户要连接到互联网，必须先连接到某个ISP。
* 在互联网的发展初期，用户都是利用电话的用户线通过调制解调器连接到ISP的，电话用户线接入到互联网的速率仅达到56kbit/s。
* 2015年将宽带重新定义为
  * 宽带下行速率要达到25Mbit/s
  * 宽带上行速率要达到3Mbit/s
* 从宽带的接入的媒体来看，可以划分为两大类：
  * 有线宽带接入
  * 无限宽带接入

### 2.6.1 ADSL技术

* 非对称数字用户线 ADSL (Asymmetric Digital Subscriber Line)  技术就是用数字技术对现有的模拟电话用户线进行改造，使它能够 承载宽带业务。 

* 标准模拟电话信号的频带被限制在 300~3400 Hz 的范围内，但用 户线本身实际可通过的信号频率仍然超过 1 MHz。 

*  ADSL 技术就把 0~4 kHz 低端频谱留给传统电话使用，而把原来 没有被利用的高端频谱留给用户上网使用。
*  DSL 就是数字用户线 (Digital Subscriber Line) 的缩写。
*  上行和下行带宽做成不对称的。 上行指从用户到 ISP，而下行指从 ISP 到用户。 
*  ADSL 在用户线（铜线）的两端各安装一个 ADSL 调制解调器。

### 2.6.2 光纤同轴混合网（HFC网）

### 2.6.3 FTTx技术（Fiber To The xxx）

* FTTx 是一种实现宽带居民接入网的方案，代表多种宽带光纤接入方式。 
*  FTTx 表示 Fiber To The…（光纤到…），例如： 
  1. 光纤到户 FTTH (Fiber To The Home)：光纤一直铺设到用户家庭， 可能是居民接入网最后的解决方法。
  2.   光纤到大楼 FTTB (Fiber To The Building)：光纤进入大楼后就转 换为电信号，然后用电缆或双绞线分配到各用户。 
  3. 光纤到路边 FTTC (Fiber To The Curb)：光纤铺到路边，从路边 到各用户可使用星形结构双绞线作为传输媒体。

### 2.6.4 移动互联网接入技术

* 移动互联网，就是将移动通信和互联网二者结合起来，成为一体。 

* 4G全IP网络
* 基于子网的4G IP网络

# 数据链路层 

* 路由器是三层设备（物理层，数据链路层，网络层）

* 交换机是两层设备（物理层，数据链路层）
* 数据链路层使用的信道
  * 点对点信道
    * 这种信道使用一对一的点对点方式
  * 广播信道
    * 使用一对多的广播通信方式。
    * 因此必须使用专用的共享信道协议来协调这些主机的数据发送。

## 3.1 数据链路解决的三个问题

### 3.1.1数据链路和帧

* 链路（link）是一条无源的点到点的物理线路段，中间没有任何其他的交换结点。
  * 一条链路只是一条通路的一个组成部分。
* 数据链路（data link）除了物理线路外。还必须有通信协议来控制哲学数据的传输。若把实现这些协议的硬件和软件加到链路上，就构成了数据链路。
  * 现在最常用的方法是使用适配器(即网卡)来实现这些协议的硬件和软件。
  * 一般的适配器都包括了数据链路层和物理层这两层的功能。

### 3.1.2 三个基本问题

* 数据链路层协议有许多种，但有三个基本的问题是共同的。这三个基本问题是：
  * 封装成帧
    * 封装成帧（framing）就是在一段数据的前后分别添加首部和尾部，然后就构成了一个帧。
    * 首部和尾部的一个重要作用就是进行帧定界。
  * 透明传输
    * 在数据链路层透明传输数据表示无论发送什么样的比特组合，这些数据都能够按照原样没有差错地通过这个数据链路层。
  * 差错控制
    * 在传输过程中可能会产生比特差错，也就是“1”可能变成“0”，“0”也可能变成“1”。
    * 在一段时间内，传输错误的比特占所传输比特总数的比率称为误码率BBE（BITE ERROR RATE）.
    * 误码率和信噪比有很大关系。
    *   为了保证数据传输的可靠性，在计算机网络传输数据时，必须采用各种差错检验措施。
    * 在数据链路层传输的帧中，广泛使用了循环冗余检验CRC的检错技术。

## 3.2 点对点协议 PPP

### 3.2.1 PPP协议的特点

* 对于点对点链路，目前使用的最广泛的数据链路层协议是点对点协议PPP（Point-to-Point Protocol）。
* PPP协议有三个部分组成
  * 一个将IP数据报封装到串行链路的方法。
  * 链路控制协议LCP
  * 网络控制协议NCP

### 3.2.2 PPP协议的帧格式

* PPP帧的首部和尾部分别为4个字段和2个字段。
* 标志字段F=0x7E（符号0x表示后面的字符是用十六进制表示。十六进制的7E的二进制表示是01111110）。
* 地址字段A只置位0xFF。地址字段实际上并不起作用。
* 控制字段C通常设置为0x03.
* PPP是面向字节的，所有的PPP帧的长度都是整数字节。

透明传输问题

* 当PPP用在异步传输时，就是用一种特殊的字符填充法。
* 当PPP在同步传输链路时，协议规定采用硬件来完成比特填充（和HDLC的做法一样）。

### 3.2.3 PPP协议的工作状态



